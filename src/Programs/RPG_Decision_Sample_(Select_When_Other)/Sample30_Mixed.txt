// Language: RPG (mixed free + fixed) - Modern wrapper delegates to legacy code mapping
// Mixed: free-form preprocessing, fixed-format SELECT mapping, free-form post
dcl-s legacyCode packed(3:0);
dcl-s label char(12);

 /free
   legacyCode = %abs(legacyCode);
 /end-free
C                   SELECT                   legacyCode
C                   WHENEQ                   100
C                   EVAL      label='BEGIN'
C                   WHENEQ                   200
C                   EVAL      label='MIDDLE'
C                   WHENEQ                   900
C                   EVAL      label='END'
C                   OTHER
C                   EVAL      label='OTHER'
C                   ENDSL
 /free
   auditLabel(label);
 /end-free

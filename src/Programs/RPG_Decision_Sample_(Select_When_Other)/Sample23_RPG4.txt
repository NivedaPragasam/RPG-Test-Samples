// Language: RPGLE (free format) - Date parts via %SUBDT to branch fiscal quarters
// Bucket by fiscal quarter using month
dcl-s d date;
dcl-s qtr char(2);

select;
  when %subdt(d:*m) in %list(1:2:3);
     qtr = 'Q1';
  when %subdt(d:*m) in %list(4:5:6);
     qtr = 'Q2';
  when %subdt(d:*m) in %list(7:8:9);
     qtr = 'Q3';
  other;
     qtr = 'Q4';
endsl;

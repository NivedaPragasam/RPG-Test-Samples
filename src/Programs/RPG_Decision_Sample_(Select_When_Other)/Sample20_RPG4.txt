// Language: RPGLE (free format) - Workflow branching by role and action using IN and %LIST
// Workflow: action allowed by role set
dcl-s role char(10);
dcl-s action char(10);

select;
  when action = 'APPROVE' and role in %list('ADMIN':'MANAGER');
     allow();
  when action = 'REJECT' and role in %list('ADMIN':'QA');
     allow();
  when action = 'VIEW';
     allow();
  other;
     deny();
endsl;

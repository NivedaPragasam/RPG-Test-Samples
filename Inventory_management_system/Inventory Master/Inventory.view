---------------------------------------------------------------
-- View for quick item/stock reporting
---------------------------------------------------------------
CREATE OR REPLACE VIEW INVENTORY.VW_ITEM_STOCK AS
SELECT
  i.ITEMID,
  i.ITEMDESC,
  i.UOM,
  i.QTY_ON_HAND,
  COALESCE(s.QTY_ON_HAND, 0) AS LOC_QTY_ON_HAND,
  i.REORDER_LEVEL,
  i.LOCATION,
  i.STATUS
FROM INVENTORY.ITEMS i
LEFT JOIN INVENTORY.STOCK_BY_LOCATION s
  ON i.ITEMID = s.ITEMID;
